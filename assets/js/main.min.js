$(function(){function t(t){for(;/(\d+)(\d{3})/.test(t.toString());)t=t.toString().replace(/(\d+)(\d{3})/,"$1,$2");return t}function e(){n=$(window).height(),$("article, section").each(function(){var t=$(this).height();i=(n-t)/2,$(this).css("padding-top",i+"px"),$(this).css("padding-bottom",i+"px")}),$("#counter").css("line-height",n+"px");var t=$(".subtitle").outerHeight()/2;$(".header-wrapper").css("margin-top",-t+"px")}var o=window.location.pathname.replace(/\/$/,"");$("a").each(function(){var t=$(this).attr("href"),e=new RegExp("^"+t.replace(/\/$/,""),"i");e.test(o)&&$(this).addClass("active")});var a=0,n=$(window).height()||0,i=0,d=0,r=1,s=22500,c=0,l=($(window),function(e){a=$("body").scrollTop(),SCROLL_BOTTOM=a+n,$("#scrollTop").text("scrollTop:"+a),$("article, section").each(function(){var t=$(this),e=t.data("count"),o=(t.data("section"),t.offset().top),n=o+t.outerHeight();SCROLL_BOTTOM>n&&n>a&&(d=e,$("#active").text("active:"+d))});var o=$('*[data-count="'+d+'"]'),i=o.next(),l=o.data("count"),h=i.data("count"),u=("footer"===o.data("section"),"header"===o.data("section"),o.offset().top),p=u+o.outerHeight()-1;c=(a-u)/(p-u);var v=h-l;$("#percentage").text("percentage:"+Math.floor(100*c)+"%");var f=l+Math.floor(v*c);r>f?f=r:f>s&&(f=s),console.log(c),0==d&&c>.5&&($(".subtitle span").addClass("hidden"),$("#counter").removeClass("hidden")),0==d&&.5>c&&($(".subtitle span").removeClass("hidden"),$("#counter").addClass("hidden")),d==s&&c>.4&&($("#counter").addClass("hidden"),$(".party").removeClass("hidden")),d==s&&.4>c&&($("#counter").removeClass("hidden"),$(".party").addClass("hidden")),d>0&&s>d&&$("#counter").removeClass("hidden"),$("#count").text("count:"+f),$("#counter").text(t(f))});window.addEventListener("scroll",l),$(window).resize(function(){console.log("Handler for .resize() called.</div>"),e()}),e(),l(),console.log("ready")});